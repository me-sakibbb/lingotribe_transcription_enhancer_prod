const _0x2f250e=_0x3dff;(function(_0x28e662,_0x3053ef){const _0x403037=_0x3dff,_0x267da0=_0x28e662();while(!![]){try{const _0x681543=parseInt(_0x403037(0x1e9))/0x1*(parseInt(_0x403037(0x209))/0x2)+parseInt(_0x403037(0x1fc))/0x3*(-parseInt(_0x403037(0x20e))/0x4)+-parseInt(_0x403037(0x205))/0x5+-parseInt(_0x403037(0x1e1))/0x6+parseInt(_0x403037(0x20d))/0x7*(-parseInt(_0x403037(0x1dd))/0x8)+-parseInt(_0x403037(0x1eb))/0x9+parseInt(_0x403037(0x1e5))/0xa;if(_0x681543===_0x3053ef)break;else _0x267da0['push'](_0x267da0['shift']());}catch(_0x4b3105){_0x267da0['push'](_0x267da0['shift']());}}}(_0x297b,0x386b7));class AuthManager{constructor(){const _0x3ac20b=_0x3dff;this['isAuthenticated']=![],this['userEmail']=null,this[_0x3ac20b(0x20a)]=null;}async[_0x2f250e(0x1f3)](){const _0x366407=_0x2f250e;console['log']('[Auth]\x20Initializing\x20authentication...');const _0x33e30d=await this[_0x366407(0x1ec)]();return _0x33e30d&&_0x33e30d[_0x366407(0x1f7)]&&(this[_0x366407(0x211)]=_0x33e30d['email'],this['isAuthenticated']=await this[_0x366407(0x1de)](_0x33e30d[_0x366407(0x1f7)])),this[_0x366407(0x1fa)](),this['isAuthenticated'];}async['signInWithGoogle'](){const _0x22fa39=_0x2f250e;try{return console[_0x22fa39(0x1fe)]('[Auth]\x20Starting\x20Google\x20sign-in\x20with\x20web\x20flow...'),{'success':![],'error':_0x22fa39(0x1f6),'requiresLoginPage':!![]};}catch(_0x3c0c2d){return console[_0x22fa39(0x1fd)](_0x22fa39(0x206),_0x3c0c2d),{'success':![],'error':_0x3c0c2d['message']};}}async[_0x2f250e(0x202)](_0x2c7ce0){const _0x1cc8bd=_0x2f250e,_0x820d85=await this['verifyUser'](_0x2c7ce0[_0x1cc8bd(0x1f7)]);return _0x820d85?(this[_0x1cc8bd(0x211)]=_0x2c7ce0[_0x1cc8bd(0x1f7)],this[_0x1cc8bd(0x212)]=!![],await this['storeAuth']({'email':_0x2c7ce0['email'],'name':_0x2c7ce0[_0x1cc8bd(0x1ee)],'picture':_0x2c7ce0[_0x1cc8bd(0x200)],'timestamp':Date[_0x1cc8bd(0x1e0)]()}),console[_0x1cc8bd(0x1fe)]('[Auth]\x20User\x20authenticated\x20successfully'),{'success':!![],'email':_0x2c7ce0['email']}):(console['log']('[Auth]\x20User\x20not\x20authorized'),await this['signOut'](),{'success':![],'error':'User\x20not\x20authorized.\x20Please\x20contact\x20administrator.'});}async['getUserInfo'](_0x5380ee){const _0x184ed5=_0x2f250e,_0x2f040a=await fetch(_0x184ed5(0x1f0),{'headers':{'Authorization':'Bearer\x20'+_0x5380ee}});if(!_0x2f040a['ok'])throw new Error('Failed\x20to\x20get\x20user\x20info');return await _0x2f040a[_0x184ed5(0x1f5)]();}async['verifyUser'](_0x360b91){const _0x432f60=_0x2f250e;try{console[_0x432f60(0x1fe)]('[Auth]\x20Verifying\x20user:',_0x360b91);const _0x5bc9cf=await this[_0x432f60(0x1e6)](),_0x1f730e=_0x5bc9cf[_0x432f60(0x1e4)](_0x360b91['toLowerCase']());return console['log'](_0x432f60(0x1f9),_0x1f730e),_0x1f730e;}catch(_0x1b9b10){return console['error'](_0x432f60(0x1fb),_0x1b9b10),![];}}async['getAuthorizedEmails'](){const _0x1d1b37=_0x2f250e;try{if(typeof firebaseHelper!==_0x1d1b37(0x207)){console['log'](_0x1d1b37(0x1f1));const _0x2732ce=await firebaseHelper[_0x1d1b37(0x1e6)]();if(_0x2732ce&&_0x2732ce[_0x1d1b37(0x20b)]>0x0)return console[_0x1d1b37(0x1fe)]('[Auth]\x20Loaded',_0x2732ce[_0x1d1b37(0x20b)],'authorized\x20emails\x20from\x20Firebase'),_0x2732ce['map'](_0x46b195=>_0x46b195[_0x1d1b37(0x1e8)]());}return console[_0x1d1b37(0x1e3)](_0x1d1b37(0x1ff)),[_0x1d1b37(0x20c)];}catch(_0x263d10){return console['error']('[Auth]\x20Error\x20fetching\x20authorized\x20emails:',_0x263d10),[_0x1d1b37(0x20c)];}}async['signOut'](){const _0x5ddda5=_0x2f250e;console['log']('[Auth]\x20Signing\x20out...'),await chrome['storage']['local'][_0x5ddda5(0x20f)]([_0x5ddda5(0x1ef)]),this['isAuthenticated']=![],this[_0x5ddda5(0x211)]=null,console[_0x5ddda5(0x1fe)]('[Auth]\x20Signed\x20out\x20successfully');}async[_0x2f250e(0x1f8)](_0x28eb14){const _0x445dd3=_0x2f250e;await chrome['storage']['local'][_0x445dd3(0x204)]({'authData':_0x28eb14});}async[_0x2f250e(0x1ec)](){const _0x11d95c=_0x2f250e,_0xc5dccf=await chrome[_0x11d95c(0x1ed)][_0x11d95c(0x1e7)][_0x11d95c(0x1e2)](['authData']);return _0xc5dccf[_0x11d95c(0x1ef)]||null;}async[_0x2f250e(0x1df)](){const _0x1b2739=_0x2f250e;if(!this[_0x1b2739(0x212)]){const _0x28f3a6=await this['getStoredAuth']();_0x28f3a6&&_0x28f3a6['email']&&(this['isAuthenticated']=await this['verifyUser'](_0x28f3a6['email']),this['userEmail']=_0x28f3a6[_0x1b2739(0x1f7)]);}return this['isAuthenticated'];}[_0x2f250e(0x201)](){return this['userEmail'];}['startPeriodicCheck'](){const _0x362674=_0x2f250e;this[_0x362674(0x20a)]=setInterval(async()=>{const _0x554cc0=_0x362674;if(this['userEmail']){const _0x1a92ce=await this['verifyUser'](this[_0x554cc0(0x211)]);!_0x1a92ce&&(console['log']('[Auth]\x20User\x20no\x20longer\x20authorized,\x20signing\x20out...'),await this[_0x554cc0(0x203)](),chrome[_0x554cc0(0x208)]['sendMessage']({'type':'AUTH_REVOKED','message':_0x554cc0(0x1f2)}));}},0x5*0x3c*0x3e8);}['stopPeriodicCheck'](){const _0x4c4e1c=_0x2f250e;this[_0x4c4e1c(0x20a)]&&(clearInterval(this[_0x4c4e1c(0x20a)]),this['checkInterval']=null);}}function _0x297b(){const _0x250106=['z2v0qxv0Ag9YAxPLzevTywLSCW','Bg9JywW','Dg9mB3DLCKnHC2u','mtq0nJfltNvVv2K','u2vYDMLJzvDVCMTLCKDSB2jHBfnJB3bL','mJuWnZG2ohDKsKfvta','z2v0u3rVCMvKqxv0Aa','C3rVCMfNzq','BMfTzq','yxv0AerHDge','Ahr0Chm6lY93D3CUz29Vz2XLyxbPCY5JB20VB2f1DgGYl3yYl3vZzxjPBMzV','w0f1DgHDiezLDgnOAw5Nigf1DgHVCML6zwqGzw1HAwXZigzYB20GrMLYzwjHC2uUlI4','ww91CIbHy2nLC3mGAgfZigjLzw4GCMv2B2TLzc4GugXLyxnLignVBNrHy3qGywrTAw5PC3rYyxrVCI4','Aw5PDa','yxv0Ae1HBMfNzxi','ANnVBG','ugXLyxnLihvZzsb0AguGBg9NAw4GCgfNzsb0BYbZAwDUigLU','zw1HAwW','C3rVCMvbDxrO','w0f1DgHDifvZzxiGyxv0Ag9YAxPLzdO','C3rHCNrqzxjPB2rPy0nOzwnR','w0f1DgHDifzLCMLMAwnHDgLVBIbLCNjVCJO','mZq3nhPSD3nxqG','zxjYB3i','Bg9N','w0f1DgHDiezPCMvIyxnLihvUyxzHAwXHyMXLlcb1C2LUzYbMywXSyMfJAYbSAxn0','CgLJDhvYzq','z2v0vxnLCKvTywLS','y29TCgXLDgvtAwDUsw4','C2LNBK91Da','C2v0','mtK5ndKWrhDbuMz3','w0f1DgHDifnPz24TAw4GzxjYB3i6','Dw5KzwzPBMvK','CNvUDgLTzq','ntrqCgXTBK0','y2HLy2TjBNrLCNzHBa','BgvUz3rO','C2fRAwj1BgHHC2fUmtu5qgDTywLSlMnVBq','mtm0mZe2n3nrsxfAra','nJmYAhvquhjZ','CMvTB3zL','y29UC3rYDwn0B3i','DxnLCKvTywLS','AxnbDxrOzw50AwnHDgvK','oeDuyM11CW','DMvYAwz5vxnLCG','AxnvC2vYqxv0AgvUDgLJyxrLza','BM93','mtaWmZm5mKTZEhfYDG','z2v0','D2fYBG','Aw5JBhvKzxm','nZaXmJC1mhLzrujerq'];_0x297b=function(){return _0x250106;};return _0x297b();}const authManager=new AuthManager();function _0x3dff(_0x31b762,_0x1f672b){const _0x297b1b=_0x297b();return _0x3dff=function(_0x3dffba,_0x453d4b){_0x3dffba=_0x3dffba-0x1dd;let _0x3c5cf0=_0x297b1b[_0x3dffba];if(_0x3dff['enRgUm']===undefined){var _0x119254=function(_0x33e30d){const _0x3c0c2d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2c7ce0='',_0x820d85='';for(let _0x5380ee=0x0,_0x2f040a,_0x360b91,_0x5bc9cf=0x0;_0x360b91=_0x33e30d['charAt'](_0x5bc9cf++);~_0x360b91&&(_0x2f040a=_0x5380ee%0x4?_0x2f040a*0x40+_0x360b91:_0x360b91,_0x5380ee++%0x4)?_0x2c7ce0+=String['fromCharCode'](0xff&_0x2f040a>>(-0x2*_0x5380ee&0x6)):0x0){_0x360b91=_0x3c0c2d['indexOf'](_0x360b91);}for(let _0x1f730e=0x0,_0x1b9b10=_0x2c7ce0['length'];_0x1f730e<_0x1b9b10;_0x1f730e++){_0x820d85+='%'+('00'+_0x2c7ce0['charCodeAt'](_0x1f730e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x820d85);};_0x3dff['IRYbvp']=_0x119254,_0x31b762=arguments,_0x3dff['enRgUm']=!![];}const _0x8a3606=_0x297b1b[0x0],_0x562817=_0x3dffba+_0x8a3606,_0x52d45f=_0x31b762[_0x562817];return!_0x52d45f?(_0x3c5cf0=_0x3dff['IRYbvp'](_0x3c5cf0),_0x31b762[_0x562817]=_0x3c5cf0):_0x3c5cf0=_0x52d45f,_0x3c5cf0;},_0x3dff(_0x31b762,_0x1f672b);}typeof window!=='undefined'&&(window['authManager']=authManager);typeof self!==_0x2f250e(0x207)&&self[_0x2f250e(0x210)][_0x2f250e(0x1ee)]===_0x2f250e(0x1ea)&&(self[_0x2f250e(0x1f4)]=authManager);